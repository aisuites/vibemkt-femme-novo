<div class="compilation-pending-state">
    <div class="compiling-animation">
        <div class="spinner-large"></div>
    </div>
    
    <h2>Compilando Perfil da Empresa</h2>
    <p class="compiling-message">
        Estamos processando e organizando todas as informa√ß√µes da sua empresa.<br>
        Este processo pode levar alguns minutos.
    </p>
    
    <div class="compiling-progress">
        <div class="progress-bar">
            <div class="progress-fill"></div>
        </div>
        <p class="progress-text">Aguarde enquanto processamos...</p>
    </div>
    
    <div class="compiling-actions">
        <button type="button" class="btn btn-secondary" id="checkStatusBtn">
            <span class="btn-icon">üîÑ</span>
            Verificar Status
        </button>
        <a href="{% url 'knowledge:perfil_view' %}" class="btn btn-outline">
            Voltar para Edi√ß√£o
        </a>
    </div>
    
    <div class="compiling-info">
        <p class="info-text">
            <strong>Dica:</strong> Voc√™ pode fechar esta p√°gina e voltar mais tarde. 
            Enviaremos uma notifica√ß√£o quando a compila√ß√£o estiver pronta.
        </p>
    </div>
</div>

<script>
// Auto-refresh a cada 10 segundos
let autoRefreshInterval;

function checkCompilationStatus() {
    location.reload();
}

// Bot√£o manual
document.getElementById('checkStatusBtn')?.addEventListener('click', checkCompilationStatus);

// Auto-refresh (apenas no estado compilando)
autoRefreshInterval = setInterval(checkCompilationStatus, 10000);

// Limpar interval ao sair da p√°gina
window.addEventListener('beforeunload', () => {
    if (autoRefreshInterval) {
        clearInterval(autoRefreshInterval);
    }
});
</script>
